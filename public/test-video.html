<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•è§†é¢‘æ’­æ”¾</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        .video-container {
            margin: 20px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        video {
            width: 100%;
            height: auto;
            display: block;
        }
        .info {
            padding: 15px;
            background: #f5f5f5;
        }
        .error {
            color: red;
            font-weight: bold;
        }
        .success {
            color: green;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>ğŸ¬ è§†é¢‘æ’­æ”¾æµ‹è¯•</h1>
    
    <div class="info">
        <h2>æµ‹è¯•æ‚¨çš„äº‘å­˜å‚¨è§†é¢‘</h2>
        <p><strong>è§†é¢‘URLï¼š</strong><br>
        <code>https://32eqetnp69vf1ntv.public.blob.vercel-storage.com/video/841a11e088af31b2203caa7367d3b09d.mp4</code></p>
    </div>
    
    <div class="video-container">
        <video 
            id="testVideo"
            controls 
            preload="metadata"
            crossorigin="anonymous"
            poster="https://picsum.photos/800/450?random=speaking"
        >
            <source src="https://32eqetnp69vf1ntv.public.blob.vercel-storage.com/video/841a11e088af31b2203caa7367d3b09d.mp4" type="video/mp4">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
        </video>
    </div>
    
    <div class="info">
        <h3>æµ‹è¯•ç»“æœï¼š</h3>
        <div id="testResults">ç­‰å¾…æµ‹è¯•...</div>
        
        <h3>æµè§ˆå™¨æ§åˆ¶å°æ—¥å¿—ï¼š</h3>
        <div id="consoleLog" style="background: #000; color: #0f0; padding: 10px; font-family: monospace; max-height: 300px; overflow-y: auto;"></div>
    </div>
    
    <script>
        const video = document.getElementById('testVideo');
        const results = document.getElementById('testResults');
        const consoleLog = document.getElementById('consoleLog');
        
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = `[${timestamp}] ${message}`;
            console.log(logEntry);
            
            const div = document.createElement('div');
            div.className = type;
            div.textContent = logEntry;
            consoleLog.appendChild(div);
            consoleLog.scrollTop = consoleLog.scrollHeight;
        }
        
        // è§†é¢‘äº‹ä»¶ç›‘å¬
        video.addEventListener('loadstart', () => {
            log('âœ… å¼€å§‹åŠ è½½è§†é¢‘...', 'success');
        });
        
        video.addEventListener('loadedmetadata', () => {
            log(`âœ… è§†é¢‘å…ƒæ•°æ®åŠ è½½å®Œæˆ`, 'success');
            log(`   æ—¶é•¿: ${video.duration.toFixed(2)}ç§’`, 'success');
            log(`   åˆ†è¾¨ç‡: ${video.videoWidth}x${video.videoHeight}`, 'success');
            
            results.innerHTML = `
                <div class="success">âœ… è§†é¢‘åŠ è½½æˆåŠŸï¼</div>
                <ul>
                    <li>æ—¶é•¿: ${Math.floor(video.duration / 60)}åˆ†${Math.floor(video.duration % 60)}ç§’</li>
                    <li>åˆ†è¾¨ç‡: ${video.videoWidth}x${video.videoHeight}</li>
                    <li>å¯ä»¥æ’­æ”¾: æ˜¯</li>
                </ul>
            `;
        });
        
        video.addEventListener('error', (e) => {
            const errorCode = video.error?.code || 'unknown';
            const errorMessage = video.error?.message || 'æœªçŸ¥é”™è¯¯';
            
            log(`âŒ è§†é¢‘åŠ è½½é”™è¯¯: ${errorMessage} (ä»£ç : ${errorCode})`, 'error');
            
            results.innerHTML = `
                <div class="error">âŒ è§†é¢‘åŠ è½½å¤±è´¥ï¼</div>
                <ul>
                    <li>é”™è¯¯ä»£ç : ${errorCode}</li>
                    <li>é”™è¯¯ä¿¡æ¯: ${errorMessage}</li>
                    <li>å¯èƒ½åŸå› : CORSé™åˆ¶ã€æ–‡ä»¶ä¸å­˜åœ¨æˆ–æ ¼å¼ä¸æ”¯æŒ</li>
                </ul>
            `;
        });
        
        video.addEventListener('canplay', () => {
            log('âœ… è§†é¢‘å¯ä»¥å¼€å§‹æ’­æ”¾', 'success');
        });
        
        video.addEventListener('play', () => {
            log('â–¶ï¸ è§†é¢‘å¼€å§‹æ’­æ”¾', 'success');
        });
        
        video.addEventListener('pause', () => {
            log('â¸ï¸ è§†é¢‘æš‚åœ', 'info');
        });
        
        // åˆå§‹åŒ–æµ‹è¯•
        setTimeout(() => {
            log('ğŸš€ å¼€å§‹æµ‹è¯•è§†é¢‘åŠ è½½...', 'info');
            log(`ğŸ“ è§†é¢‘URL: ${video.src}`, 'info');
        }, 100);
    </script>
</body>
</html>
